function css_browser_selector(t){function e(t){return-1<i.indexOf(t)}var i=t.toLowerCase(),n="gecko",o="webkit",a="safari",s="opera",r="mobile",h=document.documentElement,l=[!/opera|webtv/i.test(i)&&/msie\s(\d)/.test(i)?"ie ie"+RegExp.$1:e("firefox/2")?n+" ff2":e("firefox/3.5")?n+" ff3 ff3_5":e("firefox/3.6")?n+" ff3 ff3_6":e("firefox/3")?n+" ff3":e("gecko/")?n:e("opera")?s+(/version\/(\d+)/.test(i)?" "+s+RegExp.$1:/opera(\s|\/)(\d+)/.test(i)?" "+s+RegExp.$2:""):e("konqueror")?"konqueror":e("blackberry")?r+" blackberry":e("android")?r+" android":e("chrome")?o+" chrome":e("iron")?o+" iron":e("applewebkit/")?o+" "+a+(/version\/(\d+)/.test(i)?" "+a+RegExp.$1:""):e("mozilla/")?n:"",e("j2me")?r+" j2me":e("iphone")?r+" iphone":e("ipod")?r+" ipod":e("ipad")?r+" ipad":e("mac")?"mac":e("darwin")?"mac":e("webtv")?"webtv":e("win")?"win"+(e("windows nt 6.0")?" vista":""):e("freebsd")?"freebsd":e("x11")||e("linux")?"linux":"","js"];return c=l.join(" "),h.className+=" "+c,c}css_browser_selector(navigator.userAgent),function(t){"object"==typeof exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(c){"use strict";var i={},d=Math.max,p=Math.min;i.c={},i.c.d=c(document),i.c.t=function(t){return t.originalEvent.touches.length-1},i.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){function t(t,e){var i;for(i in e)n.o[i]=e[i];n._carve().init(),n._configure()._draw()}if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=c.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:(!0===this.$.data("cursor")?30:this.$.data("cursor"))||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(e){var i=c(this);n.i[e]=i,n.v[e]=n.o.parse(i.val()),i.bind("change blur",function(){var t={};t[e]=i.val(),n.val(n._validate(t))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),this.o.displayInput||this.$.hide(),this.$c=c(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=c('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;n.g=n.c,n.clear(),n.dH&&(t=n.dH()),!1!==t&&n.draw()},this._touch=function(t){function e(t){var e=n.xy2val(t.originalEvent.touches[n.t].pageX,t.originalEvent.touches[n.t].pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))}return this.t=i.c.t(t),e(t),i.c.d.bind("touchmove.k",e).bind("touchend.k",function(){i.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(t){function e(t){var e=n.xy2val(t.pageX,t.pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))}return e(t),i.c.d.bind("mousemove.k",e).bind("keyup.k",function(t){if(27===t.keyCode){if(i.c.d.unbind("mouseup.k mousemove.k keyup.k"),n.eH&&!1===n.eH())return;n.cancel()}}).bind("mouseup.k",function(t){i.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),n._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),n._xy()._touch(t)}),this.listen()),this.relative&&c(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){var e=~~((t<0?-.5:.5)+t/this.o.step)*this.o.step;return Math.round(100*e)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(t){},this.val=function(t){},this.xy2val=function(t,e){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var i;return t=t.substring(1,7),"rgba("+(i=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)])[0]+","+i[1]+","+i[2]+","+e+")"},this.copy=function(t,e){for(var i in t)e[i]=t[i]}},i.Dial=function(){i.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=c.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){if(null==t)return this.v;t=this.o.parse(t),!1!==e&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?d(p(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,e){var i,n;return i=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(i=this.angleArc-i-this.PI2),this.angleArc!=this.PI2&&i<0&&-.5<i?i=0:i<0&&(i+=this.PI2),n=i*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(n=d(p(n,this.o.max),this.o.min)),n},this.listen=function(){function t(t){t.preventDefault();var e=t.originalEvent,i=e.detail||e.wheelDeltaX,n=e.detail||e.wheelDeltaY,o=r._validate(r.o.parse(r.$.val()))+(0<i||0<n?r.o.step:i<0||n<0?-r.o.step:0);o=d(p(o,r.o.max),r.o.min),r.val(o,!1),r.rH&&(clearTimeout(a),a=setTimeout(function(){r.rH(o),a=null},100),s=s||setTimeout(function(){a&&r.rH(o),s=null},200))}var a,s,n,o,r=this,h=1,l={37:-r.o.step,38:r.o.step,39:r.o.step,40:-r.o.step};this.$.bind("keydown",function(t){var e=t.keyCode;if(96<=e&&e<=105&&(e=t.keyCode=e-48),n=parseInt(String.fromCharCode(e)),isNaN(n)&&(13===e||8===e||9===e||189===e||190===e&&!r.$.val().match(/\./)||t.preventDefault(),-1<c.inArray(e,[37,38,39,40]))){t.preventDefault();var i=r.o.parse(r.$.val())+l[e]*h;r.o.stopper&&(i=d(p(i,r.o.max),r.o.min)),r.change(r._validate(i)),r._draw(),o=window.setTimeout(function(){h*=2},30)}}).bind("keyup",function(t){isNaN(n)?o&&(window.clearTimeout(o),o=null,h=1,r.val(r.$.val())):r.$.val()>r.o.max&&r.$.val(r.o.max)||r.$.val()<r.o.min&&r.$.val(r.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",t),this.$.bind("mousewheel DOMMouseScroll",t)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=d(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,i;return t=this.angle(t),i=this.o.flip?(e=this.endAngle+1e-5)-t-1e-5:(e=this.startAngle-1e-5)+t+1e-5,this.o.cursor&&(e=i-this.cursorExt)&&(i+=this.cursorExt),{s:e,e:i,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,e=this.g,i=this.arc(this.cv),n=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,"none"!==this.o.bgColor&&(e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke()),this.o.displayPrevious&&(t=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke(),n=this.cv==this.v),e.beginPath(),e.strokeStyle=n?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,i.s,i.e,i.d),e.stroke()},this.cancel=function(){this.val(this.v)}},c.fn.dial=c.fn.knob=function(e){return this.each(function(){var t=new i.Dial;t.o=e,t.$=c(this),t.run()}).parent()}}),function(o,i,I,p){"use strict";function u(t){return t&&t.hasOwnProperty&&t instanceof I}function f(t){return t&&"string"===I.type(t)}function R(t){return f(t)&&0<t.indexOf("%")}function T(t,e){var i=parseInt(t,10)||0;return e&&R(t)&&(i=L.getViewport()[e]/100*i),Math.ceil(i)}function j(t,e){return T(t,e)+"px"}var a=I("html"),n=I(o),l=I(i),L=I.fancybox=function(){L.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/i),r=null,c=i.createTouch!==p;I.extend(L,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!c,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>',loading:'<div id="fancybox-loading"><div></div></div>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:I.noop,beforeLoad:I.noop,afterLoad:I.noop,beforeShow:I.noop,afterShow:I.noop,beforeChange:I.noop,beforeClose:I.noop,afterClose:I.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(c,d){if(c&&(I.isPlainObject(d)||(d={}),!1!==L.close(!0)))return I.isArray(c)||(c=u(c)?I(c).get():[c]),I.each(c,function(t,e){var i,n,o,a,s,r,h,l={};"object"===I.type(e)&&(e.nodeType&&(e=I(e)),u(e)?(l={href:e.data("fancybox-href")||e.attr("href"),title:I("<div/>").text(e.data("fancybox-title")||e.attr("title")||"").html(),isDom:!0,element:e},I.metadata&&I.extend(!0,l,e.metadata())):l=e),i=d.href||l.href||(f(e)?e:null),n=d.title!==p?d.title:l.title||"",!(a=(o=d.content||l.content)?"html":d.type||l.type)&&l.isDom&&(a=(a=e.data("fancybox-type"))||((s=e.prop("class").match(/fancybox\.(\w+)/))?s[1]:null)),f(i)&&(a||(L.isImage(i)?a="image":L.isSWF(i)?a="swf":"#"===i.charAt(0)?a="inline":f(e)&&(a="html",o=e)),"ajax"===a&&(i=(r=i.split(/\s+/,2)).shift(),h=r.shift())),o||("inline"===a?i?o=I(f(i)?i.replace(/.*(?=#[^\s]+$)/,""):i):l.isDom&&(o=e):"html"===a?o=i:a||i||!l.isDom||(a="inline",o=e)),I.extend(l,{href:i,type:a,content:o,title:n,selector:h}),c[t]=l}),L.opts=I.extend(!0,{},L.defaults,d),d.keys!==p&&(L.opts.keys=!!d.keys&&I.extend({},L.defaults.keys,d.keys)),L.group=c,L._start(L.opts.index)},cancel:function(){var t=L.coming;t&&!1===L.trigger("onCancel")||(L.hideLoading(),t&&(L.ajaxLoad&&L.ajaxLoad.abort(),L.ajaxLoad=null,L.imgPreload&&(L.imgPreload.onload=L.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),L.coming=null,L.current||L._afterZoomOut(t)))},close:function(t){L.cancel(),!1!==L.trigger("beforeClose")&&(L.unbindEvents(),L.isActive&&(L.isOpen&&!0!==t?(L.isOpen=L.isOpened=!1,L.isClosing=!0,I(".fancybox-item, .fancybox-nav").remove(),L.wrap.stop(!0,!0).removeClass("fancybox-opened"),L.transitions[L.current.closeMethod]()):(I(".fancybox-wrap").stop(!0).trigger("onReset").remove(),L._afterZoomOut())))},play:function(t){function e(){clearTimeout(L.player.timer)}function i(){e(),L.current&&L.player.isActive&&(L.player.timer=setTimeout(L.next,L.current.playSpeed))}function n(){e(),l.unbind(".player"),L.player.isActive=!1,L.trigger("onPlayEnd")}!0===t||!L.player.isActive&&!1!==t?L.current&&(L.current.loop||L.current.index<L.group.length-1)&&(L.player.isActive=!0,l.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":i,"beforeLoad.player":e}),i(),L.trigger("onPlayStart")):n()},next:function(t){var e=L.current;e&&(f(t)||(t=e.direction.next),L.jumpto(e.index+1,t,"next"))},prev:function(t){var e=L.current;e&&(f(t)||(t=e.direction.prev),L.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var n=L.current;n&&(t=T(t),L.direction=e||n.direction[t>=n.index?"next":"prev"],L.router=i||"jumpto",n.loop&&(t<0&&(t=n.group.length+t%n.group.length),t%=n.group.length),n.group[t]!==p&&(L.cancel(),L._start(t)))},reposition:function(t,e){var i,n=L.current,o=n?n.wrap:null;o&&(i=L._getPosition(e),t&&"scroll"===t.type?(delete i.position,o.stop(!0,!0).animate(i,200)):(o.css(i),n.pos=I.extend({},n.dim,i)))},update:function(e){var i=e&&e.originalEvent&&e.originalEvent.type,n=!i||"orientationchange"===i;n&&(clearTimeout(r),r=null),L.isOpen&&!r&&(r=setTimeout(function(){var t=L.current;t&&!L.isClosing&&(L.wrap.removeClass("fancybox-tmp"),(n||"load"===i||"resize"===i&&t.autoResize)&&L._setDimension(),"scroll"===i&&t.canShrink||L.reposition(e),L.trigger("onUpdate"),r=null)},n&&!c?0:300))},toggle:function(t){L.isOpen&&(L.current.fitToView="boolean"===I.type(t)?t:!L.current.fitToView,c&&(L.wrap.removeAttr("style").addClass("fancybox-tmp"),L.trigger("onUpdate")),L.update())},hideLoading:function(){l.unbind(".loading"),I("#fancybox-loading").remove()},showLoading:function(){var t,e;L.hideLoading(),t=I(L.opts.tpl.loading).click(L.cancel).appendTo("body"),l.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),L.cancel())}),L.defaults.fixed||(e=L.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x})),L.trigger("onLoading")},getViewport:function(){var t=L.current&&L.current.locked||!1,e={x:n.scrollLeft(),y:n.scrollTop()};return t&&t.length?(e.w=t[0].clientWidth,e.h=t[0].clientHeight):(e.w=c&&o.innerWidth?o.innerWidth:n.width(),e.h=c&&o.innerHeight?o.innerHeight:n.height()),e},unbindEvents:function(){L.wrap&&u(L.wrap)&&L.wrap.unbind(".fb"),l.unbind(".fb"),n.unbind(".fb")},bindEvents:function(){var e,h=L.current;h&&(n.bind("orientationchange.fb"+(c?"":" resize.fb")+(h.autoCenter&&!h.locked?" scroll.fb":""),L.update),(e=h.keys)&&l.bind("keydown.fb",function(i){var n=i.which||i.keyCode,t=i.target||i.srcElement;if(27===n&&L.coming)return!1;i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||t&&(t.type||I(t).is("[contenteditable]"))||I.each(e,function(t,e){return 1<h.group.length&&e[n]!==p?(L[t](e[n]),i.preventDefault(),!1):-1<I.inArray(n,e)?(L[t](),i.preventDefault(),!1):void 0})}),I.fn.mousewheel&&h.mouseWheel&&L.wrap.bind("mousewheel.fb",function(t,e,i,n){for(var o,a=t.target||null,s=I(a),r=!1;s.length&&!(r||s.is(".fancybox-skin")||s.is(".fancybox-wrap"));)r=(o=s[0])&&!(o.style.overflow&&"hidden"===o.style.overflow)&&(o.clientWidth&&o.scrollWidth>o.clientWidth||o.clientHeight&&o.scrollHeight>o.clientHeight),s=I(s).parent();0===e||r||1<L.group.length&&!h.canShrink&&(0<n||0<i?L.prev(0<n?"down":"left"):(n<0||i<0)&&L.next(n<0?"up":"right"),t.preventDefault())}))},trigger:function(i,t){var e,n=t||L.coming||L.current;if(n){if(I.isFunction(n[i])&&(e=n[i].apply(n,Array.prototype.slice.call(arguments,1))),!1===e)return!1;n.helpers&&I.each(n.helpers,function(t,e){e&&L.helpers[t]&&I.isFunction(L.helpers[t][i])&&L.helpers[t][i](I.extend(!0,{},L.helpers[t].defaults,e),n)})}l.trigger(i)},isImage:function(t){return f(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return f(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,i,n,o,a,s={};if(t=T(t),!(e=L.group[t]||null))return!1;if(o=(s=I.extend(!0,{},L.opts,e)).margin,a=s.padding,"number"===I.type(o)&&(s.margin=[o,o,o,o]),"number"===I.type(a)&&(s.padding=[a,a,a,a]),s.modal&&I.extend(!0,s,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),s.autoSize&&(s.autoWidth=s.autoHeight=!0),"auto"===s.width&&(s.autoWidth=!0),"auto"===s.height&&(s.autoHeight=!0),s.group=L.group,s.index=t,L.coming=s,!1!==L.trigger("beforeLoad")){if(n=s.type,i=s.href,!n)return L.coming=null,!(!L.current||!L.router||"jumpto"===L.router)&&(L.current.index=t,L[L.router](L.direction));if(L.isActive=!0,"image"!==n&&"swf"!==n||(s.autoHeight=s.autoWidth=!1,s.scrolling="visible"),"image"===n&&(s.aspectRatio=!0),"iframe"===n&&c&&(s.scrolling="scroll"),s.wrap=I(s.tpl.wrap).addClass("fancybox-"+(c?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+s.wrapCSS).appendTo(s.parent||"body"),I.extend(s,{skin:I(".fancybox-skin",s.wrap),outer:I(".fancybox-outer",s.wrap),inner:I(".fancybox-inner",s.wrap)}),I.each(["Top","Right","Bottom","Left"],function(t,e){s.skin.css("padding"+e,j(s.padding[t]))}),L.trigger("onReady"),"inline"===n||"html"===n){if(!s.content||!s.content.length)return L._error("content")}else if(!i)return L._error("href");"image"===n?L._loadImage():"ajax"===n?L._loadAjax():"iframe"===n?L._loadIframe():L._afterLoad()}else L.coming=null},_error:function(t){I.extend(L.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:L.coming.tpl.error}),L._afterLoad()},_loadImage:function(){var t=L.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,L.coming.width=this.width/L.opts.pixelRatio,L.coming.height=this.height/L.opts.pixelRatio,L._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,L._error("image")},t.src=L.coming.href,!0!==t.complete&&L.showLoading()},_loadAjax:function(){var i=L.coming;L.showLoading(),L.ajaxLoad=I.ajax(I.extend({},i.ajax,{url:i.href,error:function(t,e){L.coming&&"abort"!==e?L._error("ajax",t):L.hideLoading()},success:function(t,e){"success"===e&&(i.content=t,L._afterLoad())}}))},_loadIframe:function(){var t=L.coming,e=I(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":t.iframe.scrolling).attr("src",t.href);I(t.wrap).bind("onReset",function(){try{I(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(L.showLoading(),e.one("load",function(){I(this).data("ready",1),c||I(this).bind("load.fb",L.update),I(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),L._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||L._afterLoad()},_preloadImages:function(){var t,e,i=L.group,n=L.current,o=i.length,a=n.preload?Math.min(n.preload,o-1):0;for(e=1;e<=a;e+=1)"image"===(t=i[(n.index+e)%o]).type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,i,e,n,o,a,s=L.coming,r=L.current,h="fancybox-placeholder";if(L.hideLoading(),s&&!1!==L.isActive){if(!1===L.trigger("afterLoad",s,r))return s.wrap.stop(!0).trigger("onReset").remove(),void(L.coming=null);switch(r&&(L.trigger("beforeChange",r),r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),L.unbindEvents(),i=(t=s).content,e=s.type,n=s.scrolling,I.extend(L,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:r}),o=t.href,e){case"inline":case"ajax":case"html":t.selector?i=I("<div>").html(i).find(t.selector):u(i)&&(i.data(h)||i.data(h,I('<div class="'+h+'"></div>').insertAfter(i).hide()),i=i.show().detach(),t.wrap.bind("onReset",function(){I(this).find(i).length&&i.hide().replaceAll(i.data(h)).data(h,!1)}));break;case"image":i=t.tpl.image.replace(/\{href\}/g,o);break;case"swf":i='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',a="",I.each(t.swf,function(t,e){i+='<param name="'+t+'" value="'+e+'"></param>',a+=" "+t+'="'+e+'"'}),i+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}u(i)&&i.parent().is(t.inner)||t.inner.append(i),L.trigger("beforeShow"),t.inner.css("overflow","yes"===n?"scroll":"no"===n?"hidden":n),L._setDimension(),L.reposition(),L.isOpen=!1,L.coming=null,L.bindEvents(),L.isOpened?r.prevMethod&&L.transitions[r.prevMethod]():I(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),L.transitions[L.isOpened?t.nextMethod:t.openMethod](),L._preloadImages()}},_setDimension:function(){var t,e,i,n,o,a,s,r,h,l,c,d,p,u,f,g,v,m=L.getViewport(),x=0,y=L.wrap,w=L.skin,b=L.inner,k=L.current,C=k.width,$=k.height,_=k.minWidth,E=k.minHeight,H=k.maxWidth,O=k.maxHeight,P=k.scrolling,S=k.scrollOutside?k.scrollbarWidth:0,W=k.margin,A=T(W[1]+W[3]),M=T(W[0]+W[2]);if(y.add(w).add(b).width("auto").height("auto").removeClass("fancybox-tmp"),o=A+(i=T(w.outerWidth(!0)-w.width())),a=M+(n=T(w.outerHeight(!0)-w.height())),s=R(C)?(m.w-o)*T(C)/100:C,r=R($)?(m.h-a)*T($)/100:$,"iframe"===k.type){if(g=k.content,k.autoHeight&&g&&1===g.data("ready"))try{g[0].contentWindow.document.location&&(b.width(s).height(9999),v=g.contents().find("body"),S&&v.css("overflow-x","hidden"),r=v.outerHeight(!0))}catch(t){}}else(k.autoWidth||k.autoHeight)&&(b.addClass("fancybox-tmp"),k.autoWidth||b.width(s),k.autoHeight||b.height(r),k.autoWidth&&(s=b.width()),k.autoHeight&&(r=b.height()),b.removeClass("fancybox-tmp"));if(C=T(s),$=T(r),c=s/r,_=T(R(_)?T(_,"w")-o:_),H=T(R(H)?T(H,"w")-o:H),E=T(R(E)?T(E,"h")-a:E),h=H,l=O=T(R(O)?T(O,"h")-a:O),k.fitToView&&(H=Math.min(m.w-o,H),O=Math.min(m.h-a,O)),u=m.w-A,f=m.h-M,k.aspectRatio?(H<C&&($=T((C=H)/c)),O<$&&(C=T(($=O)*c)),C<_&&($=T((C=_)/c)),$<E&&(C=T(($=E)*c))):(C=Math.max(_,Math.min(C,H)),k.autoHeight&&"iframe"!==k.type&&(b.width(C),$=b.height()),$=Math.max(E,Math.min($,O))),k.fitToView)if(b.width(C).height($),y.width(C+i),d=y.width(),p=y.height(),k.aspectRatio)for(;(u<d||f<p)&&_<C&&E<$&&!(19<x++);)(C=T(($=Math.max(E,Math.min(O,$-10)))*c))<_&&($=T((C=_)/c)),H<C&&($=T((C=H)/c)),b.width(C).height($),y.width(C+i),d=y.width(),p=y.height();else C=Math.max(_,Math.min(C,C-(d-u))),$=Math.max(E,Math.min($,$-(p-f)));S&&"auto"===P&&$<r&&C+i+S<u&&(C+=S),b.width(C).height($),y.width(C+i),d=y.width(),p=y.height(),t=(u<d||f<p)&&_<C&&E<$,e=k.aspectRatio?C<h&&$<l&&C<s&&$<r:(C<h||$<l)&&(C<s||$<r),I.extend(k,{dim:{width:j(d),height:j(p)},origWidth:s,origHeight:r,canShrink:t,canExpand:e,wPadding:i,hPadding:n,wrapSpace:p-w.outerHeight(!0),skinSpace:w.height()-$}),!g&&k.autoHeight&&E<$&&$<O&&!e&&b.height("auto")},_getPosition:function(t){var e=L.current,i=L.getViewport(),n=e.margin,o=L.wrap.width()+n[1]+n[3],a=L.wrap.height()+n[0]+n[2],s={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&a<=i.h&&o<=i.w?s.position="fixed":e.locked||(s.top+=i.y,s.left+=i.x),s.top=j(Math.max(s.top,s.top+(i.h-a)*e.topRatio)),s.left=j(Math.max(s.left,s.left+(i.w-o)*e.leftRatio)),s},_afterZoomIn:function(){var e=L.current;e&&(L.isOpen=L.isOpened=!0,L.wrap.css("overflow","visible").addClass("fancybox-opened").hide().show(0),L.update(),(e.closeClick||e.nextClick&&1<L.group.length)&&L.inner.css("cursor","pointer").bind("click.fb",function(t){I(t.target).is("a")||I(t.target).parent().is("a")||(t.preventDefault(),L[e.closeClick?"close":"next"]())}),e.closeBtn&&I(e.tpl.closeBtn).appendTo(L.skin).bind("click.fb",function(t){t.preventDefault(),L.close()}),e.arrows&&1<L.group.length&&((e.loop||0<e.index)&&I(e.tpl.prev).appendTo(L.outer).bind("click.fb",L.prev),(e.loop||e.index<L.group.length-1)&&I(e.tpl.next).appendTo(L.outer).bind("click.fb",L.next)),L.trigger("afterShow"),e.loop||e.index!==e.group.length-1?L.opts.autoPlay&&!L.player.isActive&&(L.opts.autoPlay=!1,L.play(!0)):L.play(!1))},_afterZoomOut:function(t){t=t||L.current,I(".fancybox-wrap").trigger("onReset").remove(),I.extend(L,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),L.trigger("afterClose",t)}}),L.transitions={getOrigPosition:function(){var t=L.current,e=t.element,i=t.orig,n={},o=50,a=50,s=t.hPadding,r=t.wPadding,h=L.getViewport();return!i&&t.isDom&&e.is(":visible")&&((i=e.find("img:first")).length||(i=e)),u(i)?(n=i.offset(),i.is("img")&&(o=i.outerWidth(),a=i.outerHeight())):(n.top=h.y+(h.h-a)*t.topRatio,n.left=h.x+(h.w-o)*t.leftRatio),"fixed"!==L.wrap.css("position")&&!t.locked||(n.top-=h.y,n.left-=h.x),{top:j(n.top-s*t.topRatio),left:j(n.left-r*t.leftRatio),width:j(o+r),height:j(a+s)}},step:function(t,e){var i,n,o=e.prop,a=L.current,s=a.wrapSpace,r=a.skinSpace;"width"!==o&&"height"!==o||(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),L.isClosing&&(i=1-i),n=t-("width"===o?a.wPadding:a.hPadding),L.skin[o](T("width"===o?n:n-s*i)),L.inner[o](T("width"===o?n:n-s*i-r*i)))},zoomIn:function(){var t=L.current,e=t.pos,i=t.openEffect,n="elastic"===i,o=I.extend({opacity:1},e);delete o.position,n?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===i&&(e.opacity=.1),L.wrap.css(e).animate(o,{duration:"none"===i?0:t.openSpeed,easing:t.openEasing,step:n?this.step:null,complete:L._afterZoomIn})},zoomOut:function(){var t=L.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),L.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:L._afterZoomOut})},changeIn:function(){var t,e=L.current,i=e.nextEffect,n=e.pos,o={opacity:1},a=L.direction;n.opacity=.1,"elastic"===i&&(t="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(n[t]=j(T(n[t])-200),o[t]="+=200px"):(n[t]=j(T(n[t])+200),o[t]="-=200px")),"none"===i?L._afterZoomIn():L.wrap.css(n).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:L._afterZoomIn})},changeOut:function(){var t=L.previous,e=t.prevEffect,i={opacity:.1},n=L.direction;"elastic"===e&&(i["down"===n||"up"===n?"top":"left"]=("up"===n||"left"===n?"-":"+")+"=200px"),t.wrap.animate(i,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){I(this).trigger("onReset").remove()}})}},L.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!c,fixed:!0},overlay:null,fixed:!1,el:I("html"),create:function(t){var e;t=I.extend({},this.defaults,t),this.overlay&&this.close(),e=L.coming?L.coming.parent:t.parent,this.overlay=I('<div class="fancybox-overlay"></div>').appendTo(e&&e.length?e:"body"),this.fixed=!1,t.fixed&&L.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=I.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(n.bind("resize.overlay",I.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(I(t.target).hasClass("fancybox-overlay"))return L.isActive?L.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){n.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(I(".fancybox-margin").removeClass("fancybox-margin"),this.el.removeClass("fancybox-lock"),n.scrollTop(this.scrollV).scrollLeft(this.scrollH)),I(".fancybox-overlay").remove().hide(),I.extend(this,{overlay:null,fixed:!1})},update:function(){var t,e="100%";this.overlay.width(e).height("100%"),s?(t=Math.max(i.documentElement.offsetWidth,i.body.offsetWidth),l.width()>t&&(e=l.width())):l.width()>n.width()&&(e=l.width()),this.overlay.width(e).height(l.height())},onReady:function(t,e){var i=this.overlay;I(".fancybox-overlay").stop(!0,!0),i||this.create(t),t.locked&&this.fixed&&e.fixed&&(e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){e.locked&&!this.el.hasClass("fancybox-lock")&&(!1!==this.fixPosition&&I("*:not(object)").filter(function(){return"fixed"===I(this).css("position")&&!I(this).hasClass("fancybox-overlay")&&!I(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin"),this.scrollV=n.scrollTop(),this.scrollH=n.scrollLeft(),this.el.addClass("fancybox-lock"),n.scrollTop(this.scrollV).scrollLeft(this.scrollH)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!L.coming&&this.overlay.fadeOut(t.speedOut,I.proxy(this.close,this))}},L.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,i,n=L.current,o=n.title,a=t.type;if(I.isFunction(o)&&(o=o.call(n.element,n)),f(o)&&""!==I.trim(o)){switch(e=I('<div class="fancybox-title fancybox-title-'+a+'-wrap">'+o+"</div>"),a){case"inside":i=L.skin;break;case"outside":i=L.wrap;break;case"over":i=L.inner;break;default:i=L.skin,e.appendTo("body"),s&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),L.current.margin[2]+=Math.abs(T(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](i)}}},I.fn.fancybox=function(a){function t(t){var e,i,n=I(this).blur(),o=s;t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||n.is(".fancybox-wrap")||(e=a.groupAttr||"data-fancybox-group",(i=n.attr(e))||(e="rel",i=n.get(0)[e]),i&&""!==i&&"nofollow"!==i&&(o=(n=(n=h.length?I(h):r).filter("["+e+'="'+i+'"]')).index(this)),a.index=o,!1!==L.open(n,a)&&t.preventDefault())}var s,r=I(this),h=this.selector||"";return s=(a=a||{}).index||0,h&&!1!==a.live?l.undelegate(h,"click.fb-start").delegate(h+":not('.fancybox-item, .fancybox-nav')","click.fb-start",t):r.unbind("click.fb-start").bind("click.fb-start",t),this.filter("[data-fancybox-start=1]").trigger("click"),this},l.ready(function(){var t,e,i,n;I.scrollbarWidth===p&&(I.scrollbarWidth=function(){var t=I('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),i=e.innerWidth()-e.height(99).innerWidth();return t.remove(),i}),I.support.fixedPosition===p&&(I.support.fixedPosition=(n=20===(i=I('<div style="position:fixed;top:20px;"></div>').appendTo("body"))[0].offsetTop||15===i[0].offsetTop,i.remove(),n)),I.extend(L.defaults,{scrollbarWidth:I.scrollbarWidth(),fixed:I.support.fixedPosition,parent:I("body")}),t=I(o).width(),a.addClass("fancybox-lock-test"),e=I(o).width(),a.removeClass("fancybox-lock-test"),I("<style type='text/css'>.fancybox-margin{margin-right:"+(e-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery);